# 网络安全考试系统 - 运行说明

## 系统架构

本系统包含前端React应用和后端Node.js API服务，支持用户注册登录、在线考试、错题记录等功能。

## 环境要求

- Node.js 16+
- npm 或 yarn
- 现代浏览器（Chrome 80+, Firefox 75+, Safari 13+）

## 快速启动

### 1. 启动后端服务

```bash
# 进入后端目录
cd backend

# 安装依赖
npm install

# 初始化数据库
npm run init-db

# 启动后端服务（开发模式）
npm run dev
```

后端服务将在 http://localhost:3001 启动

### 2. 启动前端应用

```bash
# 新开终端，进入前端目录
cd exam-system

# 安装依赖
npm install

# 启动前端应用
npm start
```

前端应用将在 http://localhost:3000 启动

## 功能说明

### 用户系统
- **注册**: 输入11位手机号和密码进行注册
- **登录**: 使用手机号和密码登录
- **认证**: 基于JWT的身份认证，7天有效期

### 考试功能
- **随机组卷**: 50道单选题(1分) + 20道判断题(1分) + 20道多选题(1.5分)
- **在线答题**: 90分钟倒计时，支持题目导航和答案修改
- **自动评分**: 60分及格，实时显示答题进度
- **结果展示**: 详细的成绩分析和答案对比

### 错题管理
- **自动记录**: 每次考试的错题自动保存到数据库
- **历史查看**: 查看所有历史错题，支持按题型筛选
- **统计分析**: 显示考试次数、平均分、最高分等统计信息
- **错题导出**: 支持下载Word格式的错题集

## 数据持久化

- 用户信息存储在SQLite数据库
- 考试记录和错题历史完整保存
- 支持用户统计和历史数据查询

## 安全特性

- 密码bcrypt加密存储
- JWT token身份认证
- 请求频率限制
- 输入验证和XSS防护

## 目录结构

```
├── backend/                 # 后端API服务
│   ├── database/           # 数据库相关
│   ├── routes/             # API路由
│   ├── middleware/         # 中间件
│   └── scripts/            # 脚本文件
├── exam-system/            # 前端React应用
│   ├── src/
│   │   ├── components/     # React组件
│   │   ├── services/       # API服务
│   │   ├── state/          # 状态管理
│   │   └── styles/         # 样式文件
│   └── public/
│       └── data/           # 题库文件
└── simple-exam/            # 简化版静态页面
```

## 开发说明

### 后端开发
- 使用nodemon自动重启
- 数据库文件: `backend/database/exam.db`
- API文档: `backend/README.md`

### 前端开发
- 支持热重载
- TypeScript类型检查
- 组件化开发

## 部署说明

### 后端部署
1. 设置生产环境变量
2. 运行数据库初始化
3. 使用PM2启动服务
4. 配置Nginx反向代理

### 前端部署
1. 运行 `npm run build` 构建
2. 将build目录部署到静态服务器
3. 配置API代理

## 故障排除

### 常见问题

1. **后端启动失败**
   - 检查Node.js版本
   - 确认端口3001未被占用
   - 运行数据库初始化命令

2. **前端无法连接后端**
   - 确认后端服务正常运行
   - 检查.env文件中的API_URL配置
   - 查看浏览器控制台错误信息

3. **登录失败**
   - 确认手机号格式正确（11位数字）
   - 检查密码是否为空
   - 查看后端日志错误信息

4. **题库加载失败**
   - 确认题库文件存在于 `exam-system/public/data/`
   - 检查题库文件格式是否正确
   - 查看浏览器网络请求状态

## 技术支持

如遇到问题，请检查：
1. 控制台错误日志
2. 网络请求状态
3. 数据库连接状态
4. 环境变量配置

系统已完成基本功能开发，支持用户注册登录、在线考试和错题管理等核心功能。